<!DOCTYPE html>
<html>
  <head>
    <link rel="stylesheet" type="text/css" href="../../mfbase/ext/resources/css/ext-all.css" />

    <script type="text/javascript" src="../../mfbase/openlayers/lib/Firebug/firebug.js"></script>
    <script type="text/javascript" src="../../mfbase/openlayers/lib/OpenLayers.js"></script>

    <script type="text/javascript" src="../../mfbase/ext/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="../../mfbase/ext/ext-all-debug.js"></script>

    <script type="text/javascript">
      // Because of a bug in Firefox 2 we need to specify the MapFish base path.
      // See https://bugzilla.mozilla.org/show_bug.cgi?id=351282
      var gMfLocation = "../../mfbase/mapfish/";
    </script>
    <script type="text/javascript" src="../../mfbase/mapfish/MapFish.js"></script>
    <script type="text/javascript" src="../examples.js"></script>

    <script type="text/javascript" src="c2corgCreateMap.js"></script>

    <script type="text/javascript"><!--
      // reference local blank image
      Ext.BLANK_IMAGE_URL = '../../mfbase/ext/resources/images/default/s.gif';

      var map, tree; // make these references available from FireBug

      Ext.onReady(function() {
        map = c2corgCreateMap("map");

        tree = new mapfish.widgets.LayerTree({
          map: map, el: 'tree', 
          showWmsLegend: true,
          plugins: [
            mapfish.widgets.LayerTree.createContextualMenuPlugin([
              'opacitySlide',
              'remove'
            ])
          ]
        });
        tree.render();

      }, this);

    --></script>

    <style type="text/css">
        #map {
          width: 600px;
          height: 400px;
          border: 1px solid #999;
        }
        #right {
          position: absolute;
          left: 620px;
        }
        #tree {
          height: 400px;
          width: 200px;
        }
        .cf-wms-node img.x-tree-node-icon {
          width: auto !important;
          height: auto !important;
        }
    </style>
  </head>

  <body>
    <div id="north">
       <p style="font-size:16pt;color:#15428B;font-weight:bold">MapFish example: automatically generated tree</p>
    </div>
    <div id="right">
      <div id="tree"></div>
    </div>
    <div id="map"></div>
  </body>
</html>
