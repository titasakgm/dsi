<!DOCTYPE html>
<html>
  <head>
    <title>Recenter DataField</title>
    <link rel="stylesheet" type="text/css" href="../../mfbase/ext/resources/css/ext-all.css" />

    <script type="text/javascript" src="../../mfbase/ext/adapter/ext/ext-base.js"></script>
    <script type="text/javascript" src="../../mfbase/ext/ext-all-debug.js"></script>
                    
    <script type="text/javascript" src="../../mfbase/openlayers/lib/Firebug/firebug.js"></script>
    <script type="text/javascript" src="../../mfbase/openlayers/lib/OpenLayers.js"></script>
    <script type="text/javascript" src="../../mfbase/geoext/lib/GeoExt.js"></script>

    <script type="text/javascript">
      // Because of a bug in Firefox 2 we need to specify the MapFish base path.
      // See https://bugzilla.mozilla.org/show_bug.cgi?id=351282
      var gMfLocation = "../../mfbase/mapfish/";
    </script>
    <script type="text/javascript" src="../../mfbase/mapfish/MapFish.js"></script>
    <script type="text/javascript" src="../examples.js"></script>

    <script type="text/javascript">
        Ext.onReady(function() {
            var map = new OpenLayers.Map();
            var layer = new OpenLayers.Layer.WMS(
                "bluemarble",
                "http://sigma.openplans.org/geoserver/wms?",
                {layers: 'bluemarble'}
            );
            map.addLayer(layer);

            var mapPanel = new GeoExt.MapPanel({
                title: "MapPanel",
                renderTo: "map",
                height: 400,
                width: 600,
                map: map,
                center: new OpenLayers.LonLat(5, 45),
                zoom: 4
            });

            var recenter = new mapfish.widgets.recenter.DataField({
                title: "Recenter",
                url: mapfish.SERVER_BASE_URL + "countries",
                map: map,
                fieldLabel: "Africa country",
                displayField: "country",
                renderTo: "recenter",
                height: 400,
                width: 250
            });
        });
    </script>
  </head>

  <body>
    <div id="map" style="float:left;"></div>
    <div id="recenter" style="float:left;"></div>
  </body>
</html>
